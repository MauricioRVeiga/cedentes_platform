<!-- Modal Novo Cedente -->
<div class="modal fade" id="novoCedenteModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">
          <i class="fas fa-user-plus me-2"></i>Novo Cedente
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <form id="novoCedenteForm">
        <div class="modal-body">
          <div class="row g-3">
            <div class="col-md-12">
              <label class="form-label">Nome/Razão Social *</label>
              <input type="text" name="nome_razao_social" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">CPF/CNPJ *</label>
              <input type="text" name="cpf_cnpj" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Data de Validade *</label>
              <input type="date" name="data_validade" class="form-control" required>
            </div>
            <div class="col-md-12">
              <label class="form-label">Status do Contrato</label>
              <select name="status" class="form-select">
                <option value="CONTRATO SEM ASSINATURA MANUAL E DIGITAL">Sem Assinatura</option>
                <option value="CONTRATO ASSINADO MANUALMENTE">Assinado Manualmente</option>
                <option value="CONTRATO PRECISA SER RENOVADO">Precisa Renovar</option>
                <option value="CONTRATOS IMPRESSOS QUE FALTAM ASSINAR">Faltam Assinar</option>
                <option value="CEDENTES QUE JÁ FORAM AVISADOS DA RENOVAÇÃO">Avisados Renovação</option>
                <option value="LEVOU O CONTRATO PARA ASSINAR">Levou para Assinar</option>
              </select>
            </div>
            <div class="col-12">
              <label class="form-label">Observações</label>
              <textarea name="observacoes" class="form-control" rows="3"></textarea>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-primary">
            <i class="fas fa-save me-2"></i>Salvar Cedente
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal Importar Excel -->
<div class="modal fade" id="importModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title">
          <i class="fas fa-file-import me-2"></i>Importar Planilha
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <form id="importForm" enctype="multipart/form-data">
        <div class="modal-body">
          <div class="alert alert-info">
            <i class="fas fa-info-circle me-2"></i>
            <strong>Formato esperado:</strong> Excel (.xlsx, .xls)<br>
            <strong>Colunas:</strong> Nome/Razão Social, CPF/CNPJ, Status, Data Validade
          </div>

          <div class="mb-3">
            <label class="form-label">Selecione o arquivo</label>
            <input type="file" name="planilha" class="form-control" accept=".xlsx,.xls" required>
            <div class="form-text">Tamanho máximo: 10MB. Arquivos existentes serão atualizados.</div>
          </div>

          <div class="alert alert-warning">
            <i class="fas fa-exclamation-triangle me-2"></i>
            <strong>Atenção:</strong> CPF/CNPJ é usado como identificador único. 
            Registros com CPF/CNPJ existente serão atualizados.
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-success">
            <i class="fas fa-upload me-2"></i>Importar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal Editar Cedente -->
<div class="modal fade" id="editarModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-warning text-dark">
        <h5 class="modal-title">
          <i class="fas fa-edit me-2"></i>Editar Cedente
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <form onsubmit="salvarEdicao(); return false;">
        <div class="modal-body">
          <input type="hidden" id="editar_id" />
          <div class="row g-3">
            <div class="col-md-12">
              <label class="form-label">Nome/Razão Social *</label>
              <input type="text" id="editar_nome_razao_social" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">CPF/CNPJ *</label>
              <input type="text" id="editar_cpf_cnpj" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Data de Validade *</label>
              <input type="date" id="editar_data_validade" class="form-control" required>
            </div>
            <div class="col-md-12">
              <label class="form-label">Status do Contrato</label>
              <select id="editar_status" class="form-select">
                <option value="CONTRATO SEM ASSINATURA MANUAL E DIGITAL">Sem Assinatura</option>
                <option value="CONTRATO ASSINADO MANUALMENTE">Assinado Manualmente</option>
                <option value="CONTRATO PRECISA SER RENOVADO">Precisa Renovar</option>
                <option value="CONTRATOS IMPRESSOS QUE FALTAM ASSINAR">Faltam Assinar</option>
                <option value="CEDENTES QUE JÁ FORAM AVISADOS DA RENOVAÇÃO">Avisados Renovação</option>
                <option value="LEVOU O CONTRATO PARA ASSINAR">Levou para Assinar</option>
              </select>
            </div>
            <div class="col-12">
              <label class="form-label">Observações</label>
              <textarea id="editar_observacoes" class="form-control" rows="3"></textarea>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="submit" class="btn btn-warning" id="btnSalvarEdicao">
            <i class="fas fa-save me-2"></i>Atualizar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal de Documentos -->
<div class="modal fade" id="documentosModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">
          <i class="fas fa-file-alt me-2"></i>Conferência de Documentos
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="documentos-header mb-4">
          <h4 id="documentosCedenteNome" class="text-dark mb-2"></h4>
          <div class="status-documentos">
            <span id="statusDocumentos" class="badge bg-warning text-dark">
              <i class="fas fa-clock me-1"></i>Documentos Pendentes
            </span>
          </div>
        </div>

        <form id="formDocumentos">
          <input type="hidden" id="documentosCedenteId" />

          <!-- Documentos Cadastrais PJ -->
          <div class="documentos-categoria mb-4">
            <h5 class="border-bottom pb-2 mb-3">
              <i class="fas fa-building text-primary me-2"></i>
              Documentos Cadastrais PJ
            </h5>
            <div class="row">
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docContratoSocial" name="contrato_social">
                  <label class="form-check-label" for="docContratoSocial">
                    Contrato social
                  </label>
                </div>
              </div>
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docCartaoCnpj" name="cartao_cnpj">
                  <label class="form-check-label" for="docCartaoCnpj">
                    Cartão CNPJ
                  </label>
                </div>
              </div>
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docFaturamento" name="faturamento_12meses">
                  <label class="form-check-label" for="docFaturamento">
                    Faturamento últimos 12 meses
                  </label>
                </div>
              </div>
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docDreBalanco" name="dre_balanco">
                  <label class="form-check-label" for="docDreBalanco">
                    DRE / Balanço
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Documentos dos Sócios -->
          <div class="documentos-categoria mb-4">
            <h5 class="border-bottom pb-2 mb-3">
              <i class="fas fa-user-tie text-success me-2"></i>
              Documentos dos Sócios
            </h5>
            <div class="row">
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docCnhRgSocios" name="cnh_rg_socios">
                  <label class="form-check-label" for="docCnhRgSocios">
                    CNH ou RG sócios
                  </label>
                </div>
              </div>
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docIrSocios" name="ir_socios">
                  <label class="form-check-label" for="docIrSocios">
                    IR dos sócios
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Dados de Contato -->
          <div class="documentos-categoria mb-4">
            <h5 class="border-bottom pb-2 mb-3">
              <i class="fas fa-home text-info me-2"></i>
              Dados de Contato
            </h5>
            <div class="row">
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docComprovanteEndereco" name="comprovante_endereco">
                  <label class="form-check-label" for="docComprovanteEndereco">
                    Comprovante de endereço residência e empresa atualizado
                  </label>
                </div>
              </div>
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docEmail" name="email">
                  <label class="form-check-label" for="docEmail">
                    E-mail
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Dados Financeiros -->
          <div class="documentos-categoria mb-4">
            <h5 class="border-bottom pb-2 mb-3">
              <i class="fas fa-chart-line text-warning me-2"></i>
              Dados Financeiros
            </h5>
            <div class="row">
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docCurvaAbc" name="curva_abc">
                  <label class="form-check-label" for="docCurvaAbc">
                    Curva ABC
                  </label>
                </div>
              </div>
              <div class="col-md-6 mb-2">
                <div class="form-check">
                  <input class="form-check-input documento-check" type="checkbox" id="docDadosBancarios" name="dados_bancarios">
                  <label class="form-check-label" for="docDadosBancarios">
                    Dados Bancários (Tipo da conta, n° do banco, Agência, Conta, Favorecido, CNPJ/CPF, Chave pix)
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- Resumo -->
          <div class="card bg-light">
            <div class="card-body">
              <div class="row text-center">
                <div class="col-md-4">
                  <h5 id="totalDocumentos">0</h5>
                  <small class="text-muted">Total</small>
                </div>
                <div class="col-md-4">
                  <h5 id="documentosConcluidos" class="text-success">0</h5>
                  <small class="text-muted">Concluídos</small>
                </div>
                <div class="col-md-4">
                  <h5 id="documentosPendentes" class="text-warning">0</h5>
                  <small class="text-muted">Pendentes</small>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="fas fa-times me-2"></i>Cancelar
        </button>
        <button type="button" class="btn btn-primary" id="btnSalvarDocumentos">
          <i class="fas fa-save me-2"></i>Salvar Conferência
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Confirmação -->
<div class="modal fade" id="confirmacaoModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="confirmacaoTitulo">
          <i class="fas fa-exclamation-triangle me-2"></i>Confirmação
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="text-center py-3">
          <i class="fas fa-question-circle fa-3x text-warning mb-3"></i>
          <p class="mb-0" id="confirmacaoMensagem"></p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger" id="btnConfirmarAcao">
          <i class="fas fa-trash me-2"></i>Confirmar
        </button>
      </div>
    </div>
  </div>
</div>